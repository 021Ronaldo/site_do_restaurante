<!DOCTYPE html>
<html lang="PT-BR">

<head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- link referente ao icons do booststrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/index.css">
    <script src="../../js/funcoes2.js"></script>
    <title>Sinfonia do sabor</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="indexLogado.html">

            <img id="logo" src="../../img/logo.png" width="75px" height="70px">
            <img id="logo" src="../../img/LogoLetras.png" width="200px" height="65px">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>

        </button>

        <div class="collapse navbar-collapse" id="navbarNav">

            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="#"> <span class="sr-only"></span></a>
                </li>

                <!-- Dropdown menu Âncora ===================== -->
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Cardápio</a>

                </li>
                <li class="nav-item">
                    <a class="nav-link" href="reservar.html">Reservar</a>

                </li>
                <li class="nav-item">
                    <a class="nav-link" href="localizacao.html">Localização</a>
                </li>

                <!-- <li class="nav-item">
                    <a class="nav-link" href="./../login.html">Login2teste</a>
                </li> -->

                <!-- <li class="nav-item">
                    <a class="nav-link" href="./Login.html">login</a>
                </li> -->

                <!-- <li class="nav-item">
                    <a class="nav-link" href="./cadastro.html">cadastre-se</a>

                </li> -->

                <li class="nav-item">
                    <a class="nav-link " href="sobre2.html" tabindex="-1" aria-disabled="true">Sobre</a>
                </li>
                <li class="nav-item">
                    <!-- <a class="nav-link " id="usuarioNome" tabindex="-1" aria-disabled="true"></a> -->
                </li>

                <!-- Aba do perfil -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="usuarioNome" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false">


                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="./verPerfil.html">ver/editar Perfil</a></li>
                        <li><a class="dropdown-item" href="">Visualizar Reserva</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" onclick="sair()" href=""><i class="bi bi-box-arrow-in-right"></i>
                                Sair</a></li>
                    </ul>
                </li>


            </ul>

        </div>
    </nav>
    <br>
    <div class="reserva-container">
        <h2 id="reservar">Reserve Sua Mesa</h2>

        <form>

            <fieldset>
                <legend>Detalhes da Reserva</legend>
                <div class="form-group">
                    <label for="pessoas">Número de Pessoas:</label>
                    <input type="number" id="Numero_pessoas" name="pessoas" min="1" max="15"
                        placeholder="São quantas pessoas?" required>
                </div>

                <div class="form-group">
                    <label for="data">Data:</label>
                    <input type="date" id="data" name="data_reserva" placeholder="Vai ser que dia?" required>
                </div>

                <div class="form-group">
                    <label for="hora">Horário:</label>
                    <input type="time" id="hora" name="hora_reserva" placeholder="Vai ser que horas?" required>
                </div>
            </fieldset>

            <fieldset>
                <legend>Suas Informações Pessoais</legend>
                <div class="form-group">
                    <label for="nome">Nome Completo:</label>
                    <input value="nome" type="text" id="nome" name="nome_cliente" placeholder="Digita seu nome" required
                        disabled>
                </div>

                <div class="form-group">
                    <label for="telefone">Telefone:</label>
                    <input type="tel" id="telefone" name="telefone_cliente" placeholder="(XX) XXXXX-XXXX" required
                        disabled>
                </div>

                <div class="form-group">
                    <label for="email">E-mail:</label>
                    <input type="email" id="email" name="email_cliente" placeholder="seu-email@gmail.com" required
                        disabled>
                </div>
            </fieldset>

            <div class="form-group">
                <label for="obs">Observações Especiais (Opcional):</label>
                <textarea id="obs" name="observacoes" rows="3"
                    placeholder="Ex: Preciso de uma cadeira de bebê, alergia a glúten, mesa próxima à janela."></textarea>
            </div>

            <div class="form-group">
                <button onclick="reservar(event)">Confirmar Reserva</button>
            </div>

        </form>
    </div>



    <!-- 
Remove o contêiner se desejar estender o rodapé até a largura total. -->
    <div class="container my-3">

        <footer class="bg-dark text-center text-white">
            <!-- Grid container -->
            <div class="container p-2 pb-0">
                <!-- Seção  Media  social-->
                <section class="mb-3">

                    <!-- Facebook -->
                    <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                            class="bi bi-facebook"></i></a>

                    <!-- Instagram -->
                    <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                            class="bi bi-instagram"></i></a>

                    <!-- whatsapp -->
                    <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"><i
                            class="bi bi-whatsapp"></i></a>
                </section>
                <!-- Seção  Media  social-->
            </div>
            <!-- Grid container -->

            <!-- Copyright -->
            <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
                © 2025 Copyright:
                <a class="text-white" href="#">Restaurante sem nome</a>
            </div>
            <!-- Copyright -->
        </footer>

    </div>
    <!-- End of .container -->
</body>



</html>


<script>


    document.addEventListener("DOMContentLoaded", function () {

        let abc = localStorage.getItem('usuarioLogado')
        if (abc !== '1') {
            alert('Por favor faço o login!')
            window.location.href = './../login.html'
        } else {

            let usuarioString = localStorage.getItem('usuario')
            let usuarioRecuperar = JSON.parse(usuarioString);


            const ver_Usuario = document.getElementById('usuarioNome')

            ver_Usuario.textContent = usuarioRecuperar.nome

            /*console.log(usuarioRecuperar.nome, usuarioRecuperar.email)
                     assim que a página for carregada irá carregar nome e email já dentro do formulário
                     mas sem outros campos como numero de pessoas, data, hora e observação*/
            let preencheNome = document.getElementById('nome')
            let preencheEmail = document.getElementById('email')
            let preencheTelefone = document.getElementById('telefone')



            let preencheNumero_pessoas = document.getElementById('Numero_pessoas')
            let preencheData = document.getElementById('data')
            let preencheHora = document.getElementById('hora')
            let preencheObs = document.getElementById('obs')


            preencheNome.value = usuarioRecuperar.nome
            preencheEmail.value = usuarioRecuperar.email
            preencheTelefone.value = usuarioRecuperar.telefone


            /* Irá carregar as informações dentro do formulario
           que estão vindo do LocalStorage 'reserva'*/
            // let reservaRecuperar = JSON.parse(localStorage.getItem('reserva'));

            // preencheNumero_pessoas.value = reservaRecuperar.numeroPessoa
            // preencheData.value = reservaRecuperar.data
            // preencheHora.value = reservaRecuperar.hora
            // preencheObs.value = reservaRecuperar.obs
        }

    })

     function reservar(event) {
        event.preventDefault();
        v_numeroPessoas = document.getElementById('Numero_pessoas').value
        v_data = document.getElementById('data').value
        v_hora = document.getElementById('hora').value
        v_telefone = document.getElementById('telefone').value
        v_email = document.getElementById('email').value
        v_obs = document.getElementById('obs').value

        let reservaUsuario = {
            numeroPessoa: v_numeroPessoas,
            data: v_data,
            hora: v_hora,
            email: v_email,
            telefone: v_telefone,
            obs: v_obs

        }

        localStorage.setItem('reserva', JSON.stringify(reservaUsuario))
        alert('Reserva feita com sucesso!')
        window.location.href = 'visualizarReserva.html'






    }




</script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>



<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>